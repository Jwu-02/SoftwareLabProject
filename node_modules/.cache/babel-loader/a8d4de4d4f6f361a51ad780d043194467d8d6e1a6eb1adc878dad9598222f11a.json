{"ast":null,"code":"// ResourceManagement\nimport React,{cloneElement,useState,useEffect,useRef}from'react';import{useNavigate}from\"react-router\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function HW(props){return/*#__PURE__*/_jsxs(\"h2\",{children:[\"HWSet\",props.hwset_num,\":\",props.availabiliy,\"/\",props.cap,\" \"]});}function HW_set(_ref){let{HW_set,project_id,hwset_num,avail,cap,HW_req,setHW_req,setCheckIn_}=_ref;// console.log('Initial avail of hw ', hwset_num, ' :', avail);\nconst[availability,setavailability]=useState(avail);useEffect(()=>{setavailability(avail);},[avail]);// Update availability whenever avail changes\n// console.log('Initial availability of hw ', hwset_num, ' :', availability);\nconst handleCheckInOut=async checkIn=>{try{const response=await fetch(checkIn?'/check_in_hardware':'/check_out_hardware',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({projectId:project_id,// Assuming projectId corresponds to hardware set number\nqty:HW_req,hwID:hwset_num})});const responseData=await response.json();alert(JSON.stringify(responseData));setavailability(responseData.new_avail);}catch(error){console.error('Error:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"resource-container\",children:[/*#__PURE__*/_jsx(\"form\",{className:\"resource-section\",children:/*#__PURE__*/_jsxs(\"h2\",{children:[\"HWSet\",hwset_num,\":\",availability,\"/\",cap,\" \"]})}),/*#__PURE__*/_jsx(\"from\",{className:\"resource-section\",children:/*#__PURE__*/_jsx(\"input\",{value:HW_req,onChange:e=>setHW_req(e.target.value),type:\"text\",id:HW_req,name:HW_req,placeholder:\"Enter Qty\"})}),/*#__PURE__*/_jsx(\"from\",{className:\"resource-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleCheckInOut(true),children:\"Check In\"})})}),/*#__PURE__*/_jsx(\"from\",{className:\"resource-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleCheckInOut(false),children:\"Check Out\"})})})]});}const Projects=()=>{const[HW1cap,setHW1cap]=useState(\"\");const[HW2cap,setHW2cap]=useState(\"\");const[HW1Availability,setHW1Availability]=useState(\"0\");const[HW1av,setHW1av]=useState(\"\");const[HW2av,setHW2av]=useState(\"\");const[HW1req,setHW1req]=useState(\"\");const[HW2req,setHW2req]=useState(\"\");const[HW3req,setHW3req]=useState(\"\");const[checkIn1,setCheckIn1]=useState(true);const[checkIn2,setCheckIn2]=useState(true);const[checkIn3,setCheckIn3]=useState(true);const navigate=useNavigate();useEffect(()=>{const revealAvailabilty=async()=>{try{const response=await fetch('/resource_management');const data=await response.json();setHW1av(data.HW1availability);setHW2av(data.HW2availability);}catch(error){console.error('Error fetching capacity:',error);}};// Fetch initial availability data when component mounts\nrevealAvailabilty();},[]);// Empty dependency array ensures this effect runs only once on mount\nconst handleLogout=()=>{// Add any logout logic here if needed\nnavigate('/');};return/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"ECE461L: Resource Management\"}),/*#__PURE__*/_jsx(\"button\",{style:{position:'absolute',top:'10px',right:'10px',width:'100px'},onClick:handleLogout,children:\"Logout\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"resource-container\",children:[/*#__PURE__*/_jsx(\"form\",{className:\"resource-section\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Project Name 1\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"resource-section\",children:[/*#__PURE__*/_jsx(HW_set,{project_id:\"1\",hwset_num:\"1\",avail:HW1av,cap:\"165\",HW_req:HW1req,setHW_req:setHW1req,setCheckIn_:setCheckIn1}),/*#__PURE__*/_jsx(HW_set,{project_id:\"1\",hwset_num:\"2\",avail:HW2av,cap:\"150\",HW_req:HW2req,setHW_req:setHW2req,setCheckIn_:setCheckIn2})]})]})]});};export default Projects;","map":{"version":3,"names":["React","cloneElement","useState","useEffect","useRef","useNavigate","jsxs","_jsxs","jsx","_jsx","HW","props","children","hwset_num","availabiliy","cap","HW_set","_ref","project_id","avail","HW_req","setHW_req","setCheckIn_","availability","setavailability","handleCheckInOut","checkIn","response","fetch","method","headers","body","JSON","stringify","projectId","qty","hwID","responseData","json","alert","new_avail","error","console","className","value","onChange","e","target","type","id","name","placeholder","onClick","Projects","HW1cap","setHW1cap","HW2cap","setHW2cap","HW1Availability","setHW1Availability","HW1av","setHW1av","HW2av","setHW2av","HW1req","setHW1req","HW2req","setHW2req","HW3req","setHW3req","checkIn1","setCheckIn1","checkIn2","setCheckIn2","checkIn3","setCheckIn3","navigate","revealAvailabilty","data","HW1availability","HW2availability","handleLogout","style","position","top","right","width"],"sources":["C:/Users/jhhuy/Documents/ECE 461L/CheckPt2Submission/src/pages/ResourceManagement.js"],"sourcesContent":["// ResourceManagement\r\nimport React, { cloneElement, useState, useEffect, useRef} from 'react';\r\nimport { useNavigate } from \"react-router\";\r\n\r\nfunction HW(props){\r\n    return(\r\n        <h2>HWSet{props.hwset_num}:{props.availabiliy}/{props.cap} </h2>\r\n    )\r\n}\r\n\r\nfunction HW_set({HW_set,project_id,hwset_num,avail, cap,HW_req,setHW_req,setCheckIn_}){\r\n    // console.log('Initial avail of hw ', hwset_num, ' :', avail);\r\n\r\n   const [availability, setavailability] = useState(avail);\r\n    useEffect(() => {\r\n        setavailability(avail);\r\n    }, [avail]); // Update availability whenever avail changes\r\n    // console.log('Initial availability of hw ', hwset_num, ' :', availability);\r\n    const handleCheckInOut = async (checkIn) => {\r\n\r\n        try{\r\n            const response = await fetch(checkIn ? '/check_in_hardware' : '/check_out_hardware',{\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    projectId:project_id, // Assuming projectId corresponds to hardware set number\r\n                    qty: HW_req,\r\n                    hwID: hwset_num\r\n                }),\r\n            })\r\n            const responseData = await response.json();\r\n                alert(JSON.stringify(responseData))\r\n            setavailability(responseData.new_avail)\r\n\r\n        }catch (error) {\r\n            console.error('Error:', error);\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className='resource-container'>\r\n            <form className=\"resource-section\">\r\n                <h2>HWSet{hwset_num}:{availability}/{cap} </h2>\r\n            </form>\r\n            <from className=\"resource-section\">\r\n                <input value = {HW_req} onChange={(e) => setHW_req(e.target.value)} type=\"text\" id={HW_req} name={HW_req} placeholder=\"Enter Qty\"/>\r\n            </from>\r\n            <from className=\"resource-section\">\r\n                <div className=\"button-container\">\r\n                    {/* <button onClick={() => setCheckIn_(true)}>Check In</button> */}\r\n                    <button onClick={() => handleCheckInOut(true)}>Check In</button>\r\n                </div>\r\n            </from>\r\n            <from className=\"resource-section\">\r\n                <div className=\"button-container\">\r\n                    {/* <button onClick={() => setCheckIn_(false)}>Check Out</button> */}\r\n                    <button onClick={() => handleCheckInOut(false)}>Check Out</button>\r\n                </div>\r\n            </from>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Projects = () => {\r\n    const [HW1cap, setHW1cap] = useState(\"\");\r\n    const [HW2cap, setHW2cap] = useState(\"\");\r\n\r\n    const [HW1Availability ,setHW1Availability] = useState(\"0\");\r\n\r\n\r\n    const [HW1av, setHW1av] = useState(\"\");\r\n    const [HW2av, setHW2av] = useState(\"\");\r\n\r\n    const [HW1req, setHW1req] = useState(\"\");\r\n    const [HW2req, setHW2req] = useState(\"\");\r\n    const [HW3req, setHW3req] = useState(\"\");\r\n\r\n    const [checkIn1, setCheckIn1] = useState(true);\r\n    const [checkIn2, setCheckIn2] = useState(true);\r\n    const [checkIn3, setCheckIn3] = useState(true);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        const revealAvailabilty = async () => {\r\n            try {\r\n                const response = await fetch('/resource_management');\r\n                const data = await response.json();\r\n                setHW1av(data.HW1availability);\r\n                setHW2av(data.HW2availability);\r\n            } catch (error) {\r\n                console.error('Error fetching capacity:', error);\r\n            }\r\n        };\r\n        // Fetch initial availability data when component mounts\r\n        revealAvailabilty();\r\n    }, []); // Empty dependency array ensures this effect runs only once on mount\r\n\r\n    const handleLogout = () => {\r\n        // Add any logout logic here if needed\r\n        navigate('/');\r\n      }\r\n\r\n    return (\r\n        <div className=\"auth-form-container\">\r\n            <h1>ECE461L: Resource Management</h1>\r\n            <button style={{position: 'absolute', top: '10px', right: '10px', width: '100px'}} onClick={handleLogout}>Logout</button>\r\n            {/* <button onClick={revealAvailabilty}>Please Press Here to Reveal Initial Capacity, this is a known issue</button> */}\r\n            {/* Project 1 */}\r\n            <div className='resource-container'>\r\n                <form className=\"resource-section\">\r\n                    <h2>Project Name 1</h2>\r\n                    {/* <button onClick={handleClick1}>{button1Text}</button> */}\r\n                </form>\r\n                <div className=\"resource-section\">\r\n                    <HW_set project_id=\"1\" hwset_num=\"1\" avail={HW1av} cap=\"165\" HW_req={HW1req} setHW_req={setHW1req}\r\n                            setCheckIn_={setCheckIn1}/>\r\n                    <HW_set project_id=\"1\" hwset_num=\"2\" avail={HW2av} cap=\"150\" HW_req={HW2req} setHW_req={setHW2req}\r\n                            setCheckIn_={setCheckIn2}/>\r\n                    {/* Conditionally render capacity */}\r\n                    {/* {isCapacityRevealed && (\r\n                        <div>\r\n                            <p>HW1 Initial Availability: {HW1av}</p>\r\n                            <p>HW2 Initial Availability: {HW2av}</p>\r\n                        </div>\r\n                    )} */}\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Projects;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}